<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>
  
  {{ $style := resources.Get "css/main.css" | minify | fingerprint }}
  <link rel="stylesheet" href="{{ $style.RelPermalink }}">
  
  <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
</head>
<body>
  <div class="shell">
    <header class="sidebar">
      <div class="site-name">
        <a href="#about">NextWork Lab<span>.</span></a>
      </div>
      <p class="site-tagline">신체 부담은 줄이고, 더 안전하게 일할 수 있도록</p>
      
      <nav class="side-nav">
        <a href="#about">소개</a>
        <a href="#function">신체기능</a>
        <a href="#safework">안전한 작업</a>
        <a href="#contact">문의</a>
      </nav>
    </header>

    <main class="main">
      <div class="main-inner">
        {{ block "main" . }}{{ end }}
      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        <span class="copyright">&copy; {{ now.Format "2006" }} NextWork Lab. All rights reserved.</span>
      </div>
    </footer>
  </div>

  <script>
    (function() {
      function showPanel() {
        const hash = window.location.hash || "#about";
        const target = document.querySelector(hash);
        if (!target) return;

        // 모든 패널 숨김 및 타겟 패널 활성화
        document.querySelectorAll(".panel").forEach(p => p.classList.remove("is-default"));
        target.classList.add("is-default");

        // 메뉴 활성화 상태 업데이트
        document.querySelectorAll(".side-nav a").forEach(a => {
          a.classList.toggle("is-active", a.getAttribute("href") === hash);
        });

        // 페이지 상단으로 부드럽게 이동
        window.scrollTo({ top: 0, behavior: "smooth" });
      }
      window.addEventListener("hashchange", showPanel);
      document.addEventListener("DOMContentLoaded", showPanel);
    })();
  </script>
</body>
</html>
